<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Amplexo HEALTH - Hotel Video Consultation</title>
  <link rel="stylesheet" href="css/style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="logo">
        <div class="logo-text">
          <span class="logo-main">Amplexo</span>
          <span class="logo-sub">HEALTH</span>
        </div>
      </div>
      
      <nav class="nav-menu">
        <a href="#" class="nav-item active" data-page="dashboard">
          <i class="fas fa-tachometer-alt"></i>
          <span>Dashboard</span>
        </a>
        <a href="#" class="nav-item" data-page="administration">
          <i class="fas fa-cog"></i>
          <span>Administration</span>
        </a>
        <a href="#" class="nav-item" data-page="guests">
          <i class="fas fa-users"></i>
          <span>Add Guests</span>
        </a>
        <a href="#" class="nav-item" data-page="appointments">
          <i class="fas fa-calendar-alt"></i>
          <span>Schedule Appointment</span>
        </a>
        <a href="#" class="nav-item" data-page="reports">
          <i class="fas fa-chart-bar"></i>
          <span>Reports</span>
        </a>
      </nav>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
      <!-- Dashboard Page -->
      <div id="dashboard-page" class="page active">
        <div class="page-header">
          <h1>Dashboard</h1>
          <div class="header-actions">
            <button class="btn btn-primary" onclick="showAddGuestModal()">
              <i class="fas fa-plus"></i> Add Guest
            </button>
            <button class="btn btn-success" onclick="showAddAppointmentModal()">
              <i class="fas fa-calendar-plus"></i> New Appointment
            </button>
          </div>
        </div>

        <!-- Statistics Cards -->
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-content">
              <h3 id="total-guests">0</h3>
              <p>Total Guests</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-calendar-check"></i>
            </div>
            <div class="stat-content">
              <h3 id="today-appointments">0</h3>
              <p>Today's Appointments</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="stat-content">
              <h3 id="pending-payments">0</h3>
              <p>Pending Payments</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-content">
              <h3 id="completed-appointments">0</h3>
              <p>Completed</p>
            </div>
          </div>
        </div>

        <!-- Today's Appointments -->
        <div class="content-section">
          <div class="section-header">
            <h2>Today's Appointments</h2>
            <button class="btn btn-outline" onclick="refreshAppointments()">
              <i class="fas fa-sync-alt"></i> Refresh
            </button>
          </div>
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Guest Name</th>
                  <th>Contact Number</th>
                  <th>Appointment Type</th>
                  <th>Appointment Date & Time</th>
                  <th>Payment Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="appointments-table-body">
                <!-- Appointments will be loaded here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Guests Page -->
      <div id="guests-page" class="page">
        <div class="page-header">
          <h1>Add Guests</h1>
          <button class="btn btn-primary" onclick="showAddGuestModal()">
            <i class="fas fa-plus"></i> Add
          </button>
        </div>

        <div class="content-section">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Guest Name</th>
                  <th>Room Number</th>
                  <th>Contact Number</th>
                  <th>Email Address</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="guests-table-body">
                <!-- Guests will be loaded here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Appointments Page -->
      <div id="appointments-page" class="page">
        <div class="page-header">
          <h1>Schedule Appointment</h1>
          <button class="btn btn-primary" onclick="showAddAppointmentModal()">
            <i class="fas fa-plus"></i> Add
          </button>
        </div>

        <div class="content-section">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Guest Name</th>
                  <th>Contact Number</th>
                  <th>Appointment Type</th>
                  <th>Appointment Date & Time</th>
                  <th>Payment Status</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody id="all-appointments-table-body">
                <!-- All appointments will be loaded here -->
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Video Call Page -->
      <div id="video-call-page" class="page">
        <div class="page-header">
          <h1>Video Consultation</h1>
          <div class="call-info">
            <span id="call-guest-name"></span>
            <span id="call-appointment-time"></span>
          </div>
        </div>

        <div class="video-call-container">
          <div class="video-grid">
            <div class="video-container local-video">
              <div class="video-header">
                <h3><i class="fas fa-user"></i> You (Doctor)</h3>
                <div class="video-controls">
                  <button class="control-btn" id="muteBtn" title="Mute/Unmute">
                    <i class="fas fa-microphone"></i>
                  </button>
                  <button class="control-btn" id="videoBtn" title="Video On/Off">
                    <i class="fas fa-video"></i>
                  </button>
                </div>
              </div>
              <div class="video-wrapper">
                <video id="localVideo" autoplay muted></video>
                <div class="video-overlay">
                  <div class="video-placeholder">
                    <i class="fas fa-user-md"></i>
                    <p>Your camera</p>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="video-container remote-video">
              <div class="video-header">
                <h3><i class="fas fa-users"></i> Patient</h3>
              </div>
              <div class="video-wrapper">
                <video id="remoteVideo" autoplay></video>
                <div class="video-overlay">
                  <div class="video-placeholder">
                    <i class="fas fa-phone"></i>
                    <p>Waiting for patient...</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="call-controls">
            <div class="connection-panel">
              <div class="panel-header">
                <h3><i class="fas fa-plug"></i> Call Controls</h3>
              </div>
              <div class="connection-form">
                <div class="input-group">
                  <label for="callUserId">Your ID (Doctor)</label>
                  <div class="input-wrapper">
                    <i class="fas fa-id-card"></i>
                    <input id="callUserId" placeholder="Enter your doctor ID" />
                  </div>
                </div>
                <div class="input-group">
                  <label for="callPeerId">Patient ID</label>
                  <div class="input-wrapper">
                    <i class="fas fa-user-friends"></i>
                    <input id="callPeerId" placeholder="Enter patient ID" />
                  </div>
                </div>
                <div class="action-buttons">
                  <button id="startCall" class="btn btn-primary">
                    <i class="fas fa-phone"></i>
                    Start Call
                  </button>
                  <button id="endBtn" class="btn btn-danger">
                    <i class="fas fa-phone-slash"></i>
                    End Call
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Add Guest Modal -->
  <div id="add-guest-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Add Guest Information</h2>
        <button class="modal-close" onclick="closeModal('add-guest-modal')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <form id="guest-form" class="modal-form">
        <div class="form-section">
          <h3>Guest Information</h3>
          <div class="form-grid">
            <div class="input-group">
              <label for="guestFirstName">First Name</label>
              <input type="text" id="guestFirstName" required>
            </div>
            <div class="input-group">
              <label for="guestLastName">Last Name</label>
              <input type="text" id="guestLastName" required>
            </div>
            <div class="input-group">
              <label for="guestContact">Contact Number</label>
              <input type="tel" id="guestContact" required>
            </div>
            <div class="input-group">
              <label for="guestEmail">Email Address</label>
              <input type="email" id="guestEmail" required>
            </div>
            <div class="input-group">
              <label for="guestRoom">Room Number</label>
              <input type="text" id="guestRoom" required>
            </div>
            <div class="input-group">
              <label for="guestCountry">Country</label>
              <input type="text" id="guestCountry" required>
            </div>
            <div class="input-group">
              <label for="guestPassport">Passport/NIC Number</label>
              <input type="text" id="guestPassport" required>
            </div>
            <div class="input-group">
              <label for="guestDOB">Date of Birth</label>
              <input type="date" id="guestDOB" required>
            </div>
            <div class="input-group">
              <label for="guestGender">Gender</label>
              <select id="guestGender" required>
                <option value="">Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
              </select>
            </div>
          </div>
        </div>

        <div class="form-section">
          <h3>Emergency Contact</h3>
          <div class="form-grid">
            <div class="input-group">
              <label for="emergencyFirstName">First Name</label>
              <input type="text" id="emergencyFirstName" required>
            </div>
            <div class="input-group">
              <label for="emergencyLastName">Last Name</label>
              <input type="text" id="emergencyLastName" required>
            </div>
            <div class="input-group">
              <label for="emergencyContact">Contact Number</label>
              <input type="tel" id="emergencyContact" required>
            </div>
            <div class="input-group">
              <label for="emergencyEmail">Email Address</label>
              <input type="email" id="emergencyEmail" required>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Add Guest</button>
          <button type="button" class="btn btn-secondary" onclick="closeModal('add-guest-modal')">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Add Appointment Modal -->
  <div id="add-appointment-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Schedule Appointment</h2>
        <button class="modal-close" onclick="closeModal('add-appointment-modal')">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <form id="appointment-form" class="modal-form">
        <div class="form-section">
          <h3>Appointment Type</h3>
          <div class="appointment-type-selector">
            <label class="type-option">
              <input type="radio" name="appointmentType" value="tele-consultancy" checked>
              <span class="type-label">Tele Consultancy</span>
            </label>
            <label class="type-option">
              <input type="radio" name="appointmentType" value="house-call">
              <span class="type-label">House Call</span>
            </label>
            <label class="type-option">
              <input type="radio" name="appointmentType" value="emergency-room">
              <span class="type-label">Emergency Room / OPD</span>
            </label>
          </div>
        </div>

        <div class="form-section">
          <h3>Appointment Details</h3>
          <div class="form-grid">
            <div class="input-group">
              <label for="appointmentGuest">Select Guest</label>
              <select id="appointmentGuest" required>
                <option value="">Select a guest</option>
              </select>
            </div>
            <div class="input-group">
              <label for="appointmentDoctor">Select Doctor</label>
              <select id="appointmentDoctor" required>
                <option value="">Select a doctor</option>
              </select>
            </div>
            <div class="input-group">
              <label for="appointmentDate">Appointment Date</label>
              <input type="date" id="appointmentDate" required>
            </div>
            <div class="input-group">
              <label for="appointmentTime">Appointment Time</label>
              <input type="time" id="appointmentTime" required>
            </div>
            <div class="input-group">
              <label for="paymentBy">Payment made by</label>
              <select id="paymentBy" required>
                <option value="">Select payment method</option>
                <option value="partner">Partner</option>
                <option value="guest">Guest</option>
              </select>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Schedule Appointment</button>
          <button type="button" class="btn btn-secondary" onclick="closeModal('add-appointment-modal')">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <script src="js/app.js"></script>
  <script src="js/dashboard.js"></script>
</body>
</html>
